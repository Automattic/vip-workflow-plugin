(()=>{"use strict";var e,t,a,r,l,n={1366:(e,t,a)=>{a.d(t,{A:()=>p});var r=a(1609),l=a(1455),n=a.n(l),o=a(6427),i=a(6087),s=a(7723),c=a(6870),d=a(7112),m=a(9253),u=a(6761);function p({supportedMetadataTypes:e,editorialMetadataTerms:t}){const[a,l]=(0,i.useState)(null),[p,_]=(0,i.useState)(null),[w]=(0,i.useState)(e),[E,f]=(0,i.useState)(t),[v,y]=(0,i.useState)(null),[C,T]=(0,i.useState)(!1),[A,k]=(0,i.useState)(!1),x=(e,t)=>{_(null),l(e),f(v&&!C?E.map((e=>e.term_id===t.term_id?t:e)):C?E.filter((e=>e.term_id!==t.term_id)):[...E,t]),k(!1),T(!1)},h=e=>e.charAt(0).toUpperCase()+e.slice(1),g=(0,r.createElement)(d.A,{confirmationMessage:"",name:v?.name,onCancel:()=>T(!1),onConfirmDelete:async()=>{try{await n()({url:VW_EDITORIAL_METADATA_CONFIGURE.url_edit_editorial_metadata+v.term_id,method:"DELETE"}),x((0,s.sprintf)((0,s.__)('Editorial Metadata "%s" deleted successfully.',"vip-workflow"),v.name),v)}catch(e){(e=>{l(null),_(e),T(!1),y(null)})(e.message)}}}),M=(0,r.createElement)(u.A,{availableMetadataTypes:w.map((e=>({value:e,label:h(e)}))),metadata:v,onCancel:()=>k(!1),onSuccess:x});return(0,r.createElement)(r.Fragment,null,a&&(0,r.createElement)(m.A,{successMessage:a,setSuccess:l}),p&&(0,r.createElement)(c.A,{errorMessage:p,setError:_}),(0,r.createElement)(o.Flex,{direction:["column"],justify:"start",align:"start"},(0,r.createElement)(o.FlexItem,null,(0,r.createElement)(o.Button,{variant:"secondary",icon:"plus",onClick:()=>{y(null),k(!0)}})),(0,r.createElement)(o.Flex,{className:"emetadata-items",direction:["column","row"],justify:"start"},E.map((e=>(0,r.createElement)(o.FlexItem,{className:"emetadata-item",key:e.term_id},(0,r.createElement)(o.Card,null,(0,r.createElement)(o.CardHeader,null,(0,r.createElement)(o.Flex,{direction:["column"],justify:"start",align:"start"},(0,r.createElement)(o.__experimentalHeading,{level:4},e.name),(0,r.createElement)(o.__experimentalText,null,(0,r.createElement)("i",null,e.description)),(0,r.createElement)(o.__experimentalText,null,h(e.meta.type)))),(0,r.createElement)(o.CardFooter,null,(0,r.createElement)(o.Flex,{direction:["column","row"],justify:"end",align:"end"},(0,r.createElement)("div",{className:"crud-emetadata"},(0,r.createElement)(o.Button,{size:"compact",className:"delete-emetadata",variant:"secondary",icon:"trash",onClick:()=>{y(e),T(!0)},style:{color:"#b32d2e",boxShadow:"inset 0 0 0 1px #b32d2e"}}),(0,r.createElement)(o.Button,{size:"compact",variant:"primary",icon:"edit",onClick:()=>{y(e),k(!0)}})))))))))),C&&g,A&&M)}},6761:(e,t,a)=>{a.d(t,{A:()=>d});var r=a(1609),l=a(1455),n=a.n(l),o=a(6427),i=a(6087),s=a(7723),c=a(6870);function d({availableMetadataTypes:e,metadata:t,onCancel:a,onSuccess:l}){const[d,m]=(0,i.useState)(null),[u,p]=(0,i.useState)(t?.name||""),[_,w]=(0,i.useState)(t?.description||""),[E,f]=(0,i.useState)(t?.meta?.type||e[0].value),[v,y]=(0,i.useState)(!1);let C;return C=t?(0,s.sprintf)((0,s.__)('Edit "%s"',"vip-workflow"),t.name):(0,s.__)("Add New Editorial Metadata","vip-workflow"),(0,r.createElement)(o.Modal,{title:C,size:"medium",onRequestClose:a,closeButtonLabel:(0,s.__)("Cancel","vip-workflow")},d&&(0,r.createElement)(c.A,{errorMessage:d,setError:m}),(0,r.createElement)(o.TextControl,{help:(0,s.__)("The name is used to identify the editorial metadata field.","vip-workflow"),label:(0,s.__)("Name","vip-workflow"),onChange:p,value:u}),(0,r.createElement)(o.TextareaControl,{help:(0,s.__)("The description is primarily for your team to provide context on how the editorial metadata field should be used.","vip-workflow"),label:(0,s.__)("Description","vip-workflow"),onChange:w,value:_}),(0,r.createElement)(o.SelectControl,{help:(0,s.__)("This is to identify the type for the editorial metadata field.","vip-workflow"),label:(0,s.__)("Type","vip-workflow"),value:E,options:e,onChange:f,disabled:null!==t}),(0,r.createElement)(o.Button,{variant:"primary",onClick:async()=>{const e={name:u,description:_,type:E};try{y(!0);const a=await n()({url:VW_EDITORIAL_METADATA_CONFIGURE.url_edit_editorial_metadata+(t?t.term_id:""),method:t?"PUT":"POST",data:e});l(t?(0,s.sprintf)((0,s.__)('Editorial Metadata "%s" updated successfully.',"vip-workflow"),u):(0,s.sprintf)((0,s.__)('Editorial Metadata "%s" added successfully.',"vip-workflow"),u),a)}catch(e){m(e.message)}y(!1)},disabled:v},t?(0,s.__)("Update","vip-workflow"):(0,s.__)("Save","vip-workflow")))}},6870:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(1609),l=a(6427);function n({errorMessage:e,setError:t}){return(0,r.createElement)("div",{style:{marginBottom:"1rem"}},(0,r.createElement)(l.Notice,{status:"error",isDismissible:!0,onRemove:()=>t(null)},(0,r.createElement)("p",null,e)))}},7112:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(1609),l=a(6427),n=a(7723);function o({confirmationMessage:e,name:t,onCancel:a,onConfirmDelete:o}){return(0,r.createElement)(l.Modal,{title:(0,n.sprintf)((0,n.__)("Delete %s?","vip-workflow"),t),size:"medium",onRequestClose:a,closeButtonLabel:(0,n.__)("Cancel","vip-workflow")},(0,r.createElement)("p",null,(0,n.sprintf)((0,n.__)('Are you sure you want to delete "%1$s"? %2$s',"vip-workflow"),t,e)),(0,r.createElement)("strong",{style:{display:"block",marginTop:"1rem"}},(0,n.__)("This action can not be undone.","vip-workflow")),(0,r.createElement)(l.Flex,{direction:"row",justify:"flex-end"},(0,r.createElement)(l.Button,{variant:"tertiary",onClick:a},(0,n.__)("Cancel","vip-workflow")),(0,r.createElement)(l.Button,{variant:"primary",onClick:o,style:{background:"#b32d2e"}},(0,n.__)("Proceed with Deletion","vip-workflow"))))}},9253:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(1609),l=a(6427);function n({successMessage:e,setSuccess:t}){return(0,r.createElement)("div",{style:{marginBottom:"1rem"}},(0,r.createElement)(l.Notice,{status:"success",isDismissible:!0,onRemove:()=>t(null)},(0,r.createElement)("p",null,e)))}},1609:e=>{e.exports=window.React},1455:e=>{e.exports=window.wp.apiFetch},6427:e=>{e.exports=window.wp.components},8490:e=>{e.exports=window.wp.domReady},6087:e=>{e.exports=window.wp.element},7723:e=>{e.exports=window.wp.i18n}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var a=o[e]={exports:{}};return n[e](a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=i(1609),t=i(8490),a=i.n(t),r=i(6087),l=i(1366),a()((()=>{const t=document.getElementById("editorial-metadata-manager");t&&(0,r.createRoot)(t).render((0,e.createElement)(l.A,{supportedMetadataTypes:VW_EDITORIAL_METADATA_CONFIGURE.supported_metadata_types,editorialMetadataTerms:VW_EDITORIAL_METADATA_CONFIGURE.editorial_metadata_terms}))}))})();
//# sourceMappingURL=editorial-metadata-configure.js.map