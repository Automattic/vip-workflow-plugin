(()=>{"use strict";var e={1609:e=>{e.exports=window.React},6427:e=>{e.exports=window.wp.components},9491:e=>{e.exports=window.wp.compose},7143:e=>{e.exports=window.wp.data},4309:e=>{e.exports=window.wp.editPost},6087:e=>{e.exports=window.wp.element},7723:e=>{e.exports=window.wp.i18n},2279:e=>{e.exports=window.wp.plugins}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=a(1609),t=a(6427),o=a(9491),r=a(7143),n=a(4309),l=a(6087),i=a(7723),s=a(2279);const d=window.VW_EDITORIAL_METADATA.editorial_metadata_terms.map((e=>({key:e.meta_key,label:e.name,type:e.type,term_id:e.term_id,description:e.description}))),c=0===d.length,m=({editorialMetadata:a,metaFields:o,setMetaFields:r})=>(0,e.createElement)(t.__experimentalVStack,{__nextHasNoMarginBottom:!0},(0,e.createElement)(t.__experimentalHStack,{__nextHasNoMarginBottom:!0},(0,e.createElement)(t.BaseControl,{__nextHasNoMarginBottom:!0,label:a.label}),(0,e.createElement)(t.ToggleControl,{__nextHasNoMarginBottom:!0,checked:o?.[a.key],onChange:e=>r({...o,[a.key]:e})})),(0,e.createElement)(t.BaseControl,{help:a.description})),p=({editorialMetadata:a,metaFields:o,setMetaFields:r})=>(0,e.createElement)(t.__experimentalVStack,{__nextHasNoMarginBottom:!0},(0,e.createElement)(t.BaseControl,{__nextHasNoMarginBottom:!0,label:a.label}),(0,e.createElement)(t.TextControl,{__nextHasNoMarginBottom:!0,value:o?.[a.key],className:a.key,onChange:e=>r({...o,[a.key]:e})}),(0,e.createElement)(t.BaseControl,{help:a.description})),_=({editorialMetadata:a,metaFields:o,setMetaFields:r})=>{const[n,s]=(0,l.useState)(null),d=(0,l.useMemo)((()=>({anchor:n,"aria-label":(0,i.__)("Select date"),placement:"left-start",offset:36,shift:!0})),[n]);let c=o?.[a.key];if(c){const e=new Date(c);c=e.toLocaleDateString()+" "+e.toLocaleTimeString()}else c=(0,i.__)("Select date");return(0,e.createElement)(t.Dropdown,{ref:s,popoverProps:d,focusOnMount:!0,renderToggle:({onToggle:o,isOpen:r})=>(0,e.createElement)(t.__experimentalVStack,{__nextHasNoMarginBottom:!0},(0,e.createElement)(t.__experimentalHStack,{__nextHasNoMarginBottom:!0},(0,e.createElement)(t.BaseControl,{__nextHasNoMarginBottom:!0,label:a.label}),(0,e.createElement)(t.Button,{size:"compact",variant:"tertiary",onClick:o,"aria-label":a.label,"aria-expanded":r},c)),(0,e.createElement)(t.BaseControl,{help:a.description})),renderContent:({onClose:n})=>{var l;return(0,e.createElement)(t.DateTimePicker,{currentDate:null!==(l=o?.[a.key])&&void 0!==l?l:void 0,onClose:n,value:o?.[a.key],onChange:e=>r({...o,[a.key]:e})})}})},w=(0,o.compose)((0,r.withSelect)((e=>({metaFields:e("core/editor").getEditedPostAttribute("meta")}))),(0,r.withDispatch)((e=>({setMetaFields(t){e("core/editor").editPost({meta:t})}}))))((({metaFields:a,setMetaFields:o})=>(0,e.createElement)(n.PluginDocumentSettingPanel,{name:"editorialMetadataPanel",title:"Editorial Metadata"},c&&(0,e.createElement)(t.__experimentalText,null,(0,i.__)("Configure your editorial metadata, within the VIP Workflow Plugin Settings.","vip-workflow")),d.map((t=>((t,a,o)=>{switch(t.type){case"checkbox":return(0,e.createElement)(m,{key:t.key,editorialMetadata:t,metaFields:a,setMetaFields:o});case"text":return(0,e.createElement)(p,{key:t.key,editorialMetadata:t,metaFields:a,setMetaFields:o});case"date":return(0,e.createElement)(_,{key:t.key,editorialMetadata:t,metaFields:a,setMetaFields:o});default:return null}})(t,a,o))))));(0,s.registerPlugin)("vip-workflow-editorial-metadata",{render:w,icon:"vip-workflow"})})()})();
//# sourceMappingURL=editorial-metadata-block.js.map